# WRS Future Convenience Store Challenge in Cyber Space
## Rulebook  (ver.1)

## 目的
本競技会の目的は、小売店やショッピングモールなどの環境における知的ロボットによる顧客サービスの質の向上，および，新しい形のサービスの実現である．特に，本協議会では，顧客サービスにおけるコミュニケーションや，店員とロボットの間の協調作業において，自然でフレンドリーなコミュニケーションをとる能力に焦点を当てた評価を行う。
物体認識、人間行動認識、ナビゲーション、物体把持などの物理的機能の評価については，従来までに実機ロボットを用いて競技会が開催されてきたが，意図認識，自然言語理解、会話制御，曖昧性解消のための会話など、知的なインタラクションに焦点を当てる場合，物理的ロボットによる制約によってスムースな競技が実施できない側面もあった．そこで，本競技会では物理的な機能の側面ではない，対話知能の側面に焦点をあてたタスクを通じて，小売店舗で人と協働するサービスロボットの対話システムの質の向上，および，新しいインタラクティブなサービスシステムの実現を目指す．

また、本大会は、現実空間にいる人間と仮想空間にいるロボットが対話するというユニークな構造を持っている。近年注目されているメタバース、デジタルツイン、サイバーフィジカルシステムとロボティクスの融合による新しいサービスの実現に資する提案を募集する．
そのため、本大会は、VR（仮想現実）環境においてロボットが体現的・社会的なインタラクションを行うことを可能にするシミュレータ「SIGVerse」をベースに設計されている。
また、参加者は物理的なロボットを開発せず、ソフトウェアの開発に専念できるメリットもある。そのため、コンピュータビジョン(ICCV, CPVR)、自然言語処理(ACL, EMNLP)、機械学習(NeuRIPS, CoRL)など、様々な研究コミュニティとの連携が期待される。

## 競技会システム
競技会で使用する基盤システムはSIGVerseと呼ばれるOpenの無料システムであり，競技者を含めてすべてのユーザが無料で使用することが可能である．

SIGVerse :https://github.com/SIGVerse/sigverse_unity_project/wiki

Download site : https://github.com/SIGVerse/sigverse_unity_project

今回の競技会で用いるコンビニエンスストアの環境例を以下に示す
![image1](./retail_store_model.png)
![image2](./retail_store_model2.png)
このように、250点以上の商品が実装されており，すでにGitHub上からダウンロードできる体制が整っている．


# 競技タスクとそのルール
## 競技１：Interactive Customer Service

この競技は，コンビニエンスストアにおいて顧客と対話形式で接客サービスを行うロボットの実現に向け，顧客とのインタラクション能力に焦点を当てる．

本タスクでは、顧客が店内のどの場所にいるのか，どのようなジェスチャーを取っているのか，どの場所にどの商品が陳列されているのか，などの画像認識処理・人の状態の認識，場所同定などの機能は評価の対象としない．その代わりに焦点を当てるポイントは，顧客の曖昧なリクエストに対して的確に対話を行い，希望の商品を顧客の元に届ける機能の実現となっている．
顧客は，接客ロボットに購入したい商品を伝え，買い物カゴに入れるようリクエストする．このリクエストは，自然言語表現と画像の呈示によって行われる．具体的なリクエストの内容の例を以下に示す．
```
例１　　「お茶を持ってきて」（自然言語のみによるリクエスト）
例２　　「ポテトチップ下さい」（自然言語のみによるリクエスト）
例３　　「これと同じ種類なんだけど，違う味が欲しい」（自然言語リクエストと画像の呈示）
```
これらの曖昧なリクエストに対して，接客ロボットは顧客に対して質問をすることが可能である．その質問は「お茶の種類は何にしますか？」というオープンクエスチョンではなく，「ウーロン茶でよろしいですか？」というような Yes / No で回答できるクローズドクエスチョンに限る．競技主催者（レフェリー）は，ロボットから発話された質問に対して，Yes / No の回答をボタンで行う．

ここで，顧客が欲しいと思っている商品の種類や数などの「正解」および，顧客が使う曖昧な表現は，事前に競技主催者が設計しておく．競技実施時には，競技会システムから参加者のソフトウェアプログラムに対して，テキストメッセージと画像ファイルがネットワーク通信によって送付される．レフェリーは競技会システムを用いて Yes / No の回答を，参加者のソフトウェアに送付する形式となる．

上記の例に対して，接客ロボットが行うべき理想的な対話を以下に示す．

理想的な対応例１
```
顧客　　「お茶を持って来て」
ロボット「お茶というのは，ウーロン茶のことでしょうか？」
顧客　　「No」
ロボット「では，緑茶でよろしいですか？」
顧客　　「Yes」
ロボット　緑茶を商品カゴに入れて，タスク完了
```

理想的な対応例２
```
顧客　　「ポテトチップ下さい」
ロボット「ポテトチップは，塩味，コンソメ味，BBQ味があります．コンソメ味で良いですか？」
顧客　　「Yes」
ロボット「サイズは小さい物，大きい物がありますが，小さいサイズで良いですか？」
顧客　　「No」
ロボット「わかりました．コンソメ味のポテトチップ大きいサイズをお持ちします」
　　　　（該当商品を買い物カゴに入れて，タスク終了）
```
理想的な対応例３
```
顧客　　「これと同じ種類なんだけど，違う味が欲しい」
　　　　（システムからテキストメッセージと，画像ファイルが送信される）
ロボット「紅茶ですね．画像はミルクティーなので，他の味だと，ストレートとレモン　　　　　　　ティーがあります．レモンティーで良いでしょうか？」
顧客　　「Yes」
ロボット「では，レモンティーをお持ちします」
　　　　（該当商品を買い物カゴに入れて，タスク終了）
```
買い物カゴに該当の商品を入れることができれば，一つの商品ごとに10点が加点される．間違った商品を入れてしまうと一つにつき10が減点される．また，ある一つのリクエストに対して5回以上の質問を行う場合，一回の質問につき1点が減点される．5回以下の質問でタスクを完了した場合，その回数の少なさに応じて加点される．そのため，無駄な質問を繰り返さないことが求められる．競技会では異なるリクエストが複数種類繰り返される．１つのリクエストを１セッションと呼び，10セッション以上の回数繰り返す．何回のセッションで競技会を実施するかについては，競技会の２週間前を目安にアナウンスする．
あるセッションの得点がマイナスの値になった場合には当該セッションの得点を０とする．全てのセッションの得点を合計し，参加チームの中で最も高い合計得点を100点として正規化した数値を，各チームの"Interactive Customer Service "の得点とする。

以下の表は，具体的な加点／減点の数値をリストアップしたものである

| 評価対象　Evaluation target  | 得点／Point   |
|----------------------------|-------------| 
| 正しい商品をカゴに入れる       | 一つにつき+10点 |
| 間違った商品をカゴに入れる     | 一つにつき-10点 | 
| 5回以内の回数(n回)の質問でタスクを完了する | (5-n) x 2 点加点 |
| 5回以上の回数(n回)の質問をする | (n-5) 点減点 |
| ギブアップ                  | その時点までに獲得した点数をそのセッションの得点とする |
| システムエラー               | そのセッションの得点を0とする |

なお，ソフトウェアによって任意のタイミングでセッションのギブアップを行うことができる．その場合，ギブアップした時点までに獲得した点数をそのセッションの得点とし，次のセッションに進み，競技を継続する．

セッションのギブアップではなく，競技全体をギブアップする場合には，オペレータが競技主催者にその旨を宣言する．競技者が準備したソフトウェアにシステムエラーが発生し，競技を継続不可能になった場合，エラーが発生した次のセッションから再開することができる．

競技参加者のソフトウェアにエラーが発生した場合には，そのタイミングまでに獲得した点数に寄らず，該当セッションの得点を0点とする．

オペレータの判断によって各セッションをギブアップすることはできない．セッションの制限時間が経過するのを待ち，次のセッションに進む．

### 参加者が使用するAPI

競技者は以下のようなAPIを利用してロボットの対話機能を制御する．APIは ROSで提供予定であり，詳細は2024年2月下旬〜3月上旬に公開予定である．

（競技者のソフトウェアと，競技会システムの間の通信コマンド）
- 顧客からの自然言語のリクエストの受け取り
- 顧客からのリクエストに使われる画像データの受け取り
- 顧客への質問メッセージの送信と
- 顧客からの Yes / No の返答の受信
- 対象の商品IDを手に取る行動の実行
  - 対象商品の場所へのナビゲーション，物体の把持などの物理的なロボットの制御に関する行動を実行する必要はない．商品IDを指定するだけで，対象商品を手に取り，顧客の元に持ってくる行動が自動的に生成される．
- 現在手に取って把持している商品を買い物カゴに入れる行動の実行
  - ロボットは商品を一度に一つのみ把持可能である．買い物カゴに入れる前に「この商品でよろしいですか？」というような確認の対話をすることが可能である．このような確認の対話は必ずしも行う必要はなく，省略しても構わない

### 参加者に提供される事前データ
- 商品の３Dモデル
- 商品のIDとラベル（商品名）の対応テーブルデータ

## 競技タスク２  Future Convenience Store Visionary Design
この競技では，規定のルールに従ってタスクをこなすのではなく，参加者の自由な発想に基づき，未来のコンビニエンスストアにおける接客サービスや知的な人間ロボット協調システムの可能性をプレゼンテーション形式で提案し，その発想の新規性・実現可能性・技術的挑戦性を評価する．
評価の対象となるのは，未来のコンビニエンスストアにおいて有用になると思われる接客サービスや従業員支援システムなど，主に人間とかかわる知能システム，サービスシステムである．自律制御でトイレを掃除するなど，人間と全く関わり合いがないタスクは対象外とする．各チームは、顧客サービスや従業員支援システムに関する新しいアプローチやアプリケーションに関する最新の研究開発を、サイバー環境の中でデモンストレーションすることが奨励される。評価対象となるシステム／提案の具体例は以下のようなキーワードが参考の候補となるが，これに限らず，人と関わるロボット・知的システムであればすべてを評価対象とする

- サービスロボットと従業員の役割分担を動的に変動させ最適化するプラニングシステム
- 顧客の意図を認識し，的確にサービスを行う対話型サービスロボットシステム
- 新人従業員のスキルレベルに応じて適切なトレーニングメニューを決定する研修システム
- 顧客の購買行動/移動経路を観察し，最適な陳列レイアウトを決定するアルゴリズム
- 店内の混雑状況に応じて，実行するべきタスクを動的に変化させるプラニングシステム

参加者は、実際のロボットシステムを含むあらゆる種類のシステムやデバイスを使用することができますが、最終的なデモンストレーションの主な焦点は、インテリジェントなサービスロボットの実現に向けた仮想空間やCyber Physical Systemの活用にある。例えば、インテリジェントなロボットによる接客行動計画を支えるデジタルツインシステムや，従業員の効率的な業務のためのウェアラブルデバイスによる情報呈示システムなどの提案が該当する．

チームは少なくとも1つのロボットシミュレータまたはVRソフトウェアを使用することが奨励される．競技会システムである SIGVerseの使用は必須ではなく、シミュレータ/VRソフトウェアの種類は評価結果に影響しない。また，VRヘッドセットなど，デモンストレーションに用いる機材は，競技主催者が準備した物品を使う事も可能であるし，参加者自ら機材を持ち込むこともできる．

### プレゼンテーションの形式
各チームの持ち時間は，発表と質疑応答の双方の時間を含め合計20分とする．プレゼンテーションを行うスペースは各チームで共有とするため，20分以内で，機材のセットアップ，搬入，PCの接続，システムの立ち上げ，機材撤収，現状復帰をすべて行う必要がある．
- 15 min 
  - プレゼンテーションとデモンストレーション 
  - ※ 機材の設置，ソフトウェアの立ち上げなどの準備時間を含む
- 5 min 
  - 審査委員からの質疑応答
  - ※ 機材の撤収など，現状復帰させる時間を含む

スライドに表示する使用，口頭説明など，発表に用いる言語は英語とする．
zoom などの遠隔コミュニケーションツールを使うことも可能であるが，会場のネットワーク通信環境は不安定であることも予想されるため，推奨はしない．参加チームの責任と判断で使用することは可能である．
プレゼンテーションの様子は YouTube でライブ配信，もしくは，事後配信をする予定であるため，プレゼンテーションの中で著作権に違反するような音楽の使用は認めない．

評価をする審査委員は，競技会主催者が指名して決定し，3名の審査委員で評価する．審査委員の中には英語Naitive ではない委員がいる可能性があるため，その場合には，質疑応答の翻訳補助を競技会主催者が行う．
また，ロボット工学や情報工学の専門家ではない方にも審査委員に加わって頂くため，専門用語を過度に用いないように，一般の方々にも趣旨が理解できるようなプレゼンテーションとすることが求められる．

評価基準は以下の通りである
- 提案するシステムの基盤となる技術の学術的新規性・独創性
- 提案するシステムの有用性・社会実装時のインパクト 
- コンビニエンスストアにおける人とロボット／システムの間のインタラクションへの関係の強さ
- デモンストレーションで実施するタスクの難易度，技術的困難度
なお，これ以外の観点が評価対象として加わる場合には，少なくとも1週間前までに競技者に変更の旨をアナウンスする．

これらの評点を合計し，最高得点のチームの点数が100点となるように正規化した値を，各チームの “Future Convenience Store Design” の得点とする

最終的に競技１の “Interactive Customer Service”の点数と，競技２の “Future Convenience Store Design”の点数を合計し，総点で優勝チームを決定する．


### 競技会のスケジュール・タイムテーブル
- Setup (13th May)　（初日のワークショップと同日）
- Day1: (14th May)   14:00--17:20   Interactive Customer Service
- Day2: (15th May)   15:00--16:00     Future Convenience Store Design
- Award & closing    16:30--17:00


### 賞金
順位に応じて，以下のように，３位までのチームに対して表彰状および賞金の提供される．
- 1st place: 100,000円(日本円) + certificate    
- 2nd place:  50,000円(日本円) + certificate
- 3rd place:  30,000円(日本円) + certificate






